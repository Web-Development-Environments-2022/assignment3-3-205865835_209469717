(function(e){function t(t){for(var r,n,o=t[0],c=t[1],u=t[2],l=0,d=[];l<o.length;l++)n=o[l],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&d.push(i[n][0]),i[n]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);m&&m(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,n=1;n<a.length;n++){var o=a[n];0!==i[o]&&(r=!1)}r&&(s.splice(t--,1),e=c(c.s=a[0]))}return e}var r={},n={app:0},i={app:0},s=[];function o(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-006d05af":"50c8be16","chunk-0b092463":"165b087c","chunk-0d049e26":"5e60e239","chunk-138f3292":"88f00272","chunk-1a585b38":"5ba7db95","chunk-53f3ebf4":"a821db78","chunk-9ecf5f76":"9d6835f5","chunk-1ecc3e10":"9a6c97e7","chunk-bc893600":"362f4986","chunk-a9e9ea4e":"2032611e"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a={"chunk-006d05af":1,"chunk-0b092463":1,"chunk-0d049e26":1,"chunk-138f3292":1,"chunk-1a585b38":1,"chunk-53f3ebf4":1,"chunk-1ecc3e10":1,"chunk-bc893600":1,"chunk-a9e9ea4e":1};n[e]?t.push(n[e]):0!==n[e]&&a[e]&&t.push(n[e]=new Promise((function(t,a){for(var r="css/"+({}[e]||e)+"."+{"chunk-006d05af":"606ff56f","chunk-0b092463":"e23791dd","chunk-0d049e26":"bb821c0b","chunk-138f3292":"f6ae5a15","chunk-1a585b38":"7d7c87a7","chunk-53f3ebf4":"8b833b6f","chunk-9ecf5f76":"31d6cfe0","chunk-1ecc3e10":"85563752","chunk-bc893600":"67d13eb9","chunk-a9e9ea4e":"a1b94531"}[e]+".css",i=c.p+r,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var u=s[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===i))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){u=d[o],l=u.getAttribute("data-href");if(l===r||l===i)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var r=t&&t.target&&t.target.src||i,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=r,delete n[e],m.parentNode.removeChild(m),a(s)},m.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(m)})).then((function(){n[e]=0})));var r=i[e];if(0!==r)if(r)t.push(r[2]);else{var s=new Promise((function(t,a){r=i[e]=[t,a]}));t.push(r[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(m);var a=i[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+n+")",d.name="ChunkLoadError",d.type=r,d.request=n,a[1](d)}i[e]=void 0}};var m=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(a,r,function(t){return e[t]}.bind(null,r));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var m=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0aad":function(e,t,a){"use strict";var r=a("186e"),n=a.n(r);n.a},1:function(e,t){},"108c":function(e,t,a){"use strict";var r=a("2aba"),n=a.n(r);n.a},"12f6":function(e,t,a){"use strict";var r=a("3949"),n=a.n(r);n.a},"14e2":function(e,t,a){},"183b":function(e,t,a){e.exports=a.p+"img/vegetarian.a068ee2d.png"},"186e":function(e,t,a){},2:function(e,t){},"2aba":function(e,t,a){},"2b4e":function(e,t,a){e.exports=a.p+"img/gluten.d41fe2ab.png"},"2b5f":function(e,t,a){e.exports=a.p+"img/clock.e46e8d7b.png"},3949:function(e,t,a){},"3f41":function(e,t,a){"use strict";var r=a("d217"),n=a.n(r);n.a},"56d7":function(e,t,a){"use strict";a.r(t);a("4160"),a("d3b7"),a("159b"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark"},[a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:{name:"main"}}},[a("a",{staticClass:"navbar-brand"},[e._v(" DorAlon Recipes")])]),e._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:{name:"search"}}},[a("a",{staticClass:"nav-link",attrs:{href:""}},[e._v("Search Recipes")])])],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:{name:"about"}}},[a("a",{staticClass:"nav-link",attrs:{href:""}},[e._v("About")])])],1),e.$root.store.username?e._e():a("li",{staticClass:"nav-item"},[a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:{name:"register"}}},[a("a",{staticClass:"nav-link",attrs:{href:""}},[e._v("Register")])])],1),e.$root.store.username?e._e():a("li",{staticClass:"nav-item"},[a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:{name:"login"}}},[a("a",{staticClass:"nav-link",attrs:{href:""}},[e._v("Login")])])],1),e.$root.store.username?a("b-nav-item-dropdown",{attrs:{text:"Personal Area"}},[a("li",{staticClass:"nav-item"},[a("router-link",{staticStyle:{"text-decoration":"none",color:"black"},attrs:{to:{name:"favorites"}}},[e._v(" Favorite Recipes ")])],1),a("div",{staticClass:"dropdown-divider"}),a("li",{staticClass:"nav-item"},[a("router-link",{staticStyle:{"text-decoration":"none",color:"black"},attrs:{to:{name:"myrecipes"}}},[e._v(" My Recipes ")])],1),a("div",{staticClass:"dropdown-divider"}),a("li",{staticClass:"nav-item"},[a("router-link",{staticStyle:{"text-decoration":"none",color:"black"},attrs:{to:{name:"family"}}},[e._v(" Family Recipes ")])],1)]):e._e(),e.$root.store.username?a("li",{},[a("CreateRecipe")],1):e._e(),e.$root.store.username?a("li",{staticClass:"nav-item"},[a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:{name:"prepareMeal"}}},[a("a",{staticClass:"nav-link",attrs:{href:""}},[e._v("Prepare Meal")])])],1):e._e(),e.$root.store.username?a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link disabled"},[e._v(" Welcome "+e._s(e.$root.store.username)+" ! "),a("span",{staticClass:"sr-only"})])]):a("li",{staticClass:"nav-item"},[e._m(1)]),e.$root.store.username?a("li",{staticClass:"nav-item",staticStyle:{"margin-right":"auto !important"}},[a("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:e.Logout}},[e._v(" Logout "),a("span",{staticClass:"sr-only"})])]):e._e()],1)])],1),a("router-view")],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"nav-link disabled"},[e._v(" Welcome Guest ! "),a("span",{staticClass:"sr-only"})])}],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",[a("div",{staticClass:"w-30 "},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.createRecipe",modifiers:{createRecipe:!0}}],staticClass:"nav-link",staticStyle:{"text-decoration":"none"},attrs:{"text-decoration-none":"",variant:"link"}},[e._v("Create Recipe")])],1),a("b-modal",{ref:"modal",attrs:{id:"createRecipe",title:"Create Your Own Recipe!"},on:{ok:e.handleOk,show:e.resetModal,hidden:e.resetModal}},[a("b-form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[a("b-form-group",{attrs:{id:"input-group-Recipe Name",label:"RecipeName:","label-for":"title",state:e.form.titleState}},[a("b-form-input",{staticClass:"inputs",attrs:{required:"",id:"title",type:"text",state:e.form.titleState},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}}),a("b-form-invalid-feedback",[e._v(" RecipeName is required ")])],1),a("b-form-group",{attrs:{id:"input-group-ImageURL",label:"Image URL:","label-for":"ImageURL",state:e.form.ImageURLState}},[a("b-form-input",{staticClass:"inputs",attrs:{id:"ImageURL",type:"url",state:e.form.ImageURLState},model:{value:e.form.ImageURL,callback:function(t){e.$set(e.form,"ImageURL",t)},expression:"form.ImageURL"}}),a("b-form-invalid-feedback",[e._v(" Please insert a valid URL ")])],1),a("b-form-group",{attrs:{id:"input-group-TotalTime",label:"Preperation Time:","label-for":"TotalTime",state:e.form.TotalTimeState}},[a("b-form-input",{staticClass:"inputs",attrs:{id:"TotalTime",type:"number",state:e.form.TotalTimeState},model:{value:e.form.TotalTime,callback:function(t){e.$set(e.form,"TotalTime",t)},expression:"form.TotalTime"}}),a("b-form-invalid-feedback",[e._v(" Preperation Time is required ")])],1),a("b-form-group",{attrs:{id:"input-group-Ingredients",label:"Ingredients List and Amounts.\n          (Use linebreak for each ingredients):","label-for":"Ingredients",state:e.form.IngredientsState}},[a("b-form-textarea",{staticClass:"inputs",attrs:{id:"Ingredients",state:e.form.IngredientsState},model:{value:e.form.Ingredients,callback:function(t){e.$set(e.form,"Ingredients",t)},expression:"form.Ingredients"}}),a("b-form-invalid-feedback",[e._v(" Ingredients List and Amounts are required ")])],1),a("b-form-group",{attrs:{id:"input-group-instructions",label:"Instructions\n          (Use linebreak for each stage):","label-for":"instructions",state:e.form.instructionsState}},[a("b-form-textarea",{staticClass:"inputs",attrs:{id:"instructions",state:e.form.instructionsState},model:{value:e.form.instructions,callback:function(t){e.$set(e.form,"instructions",t)},expression:"form.instructions"}}),a("b-form-invalid-feedback",[e._v(" Instructions is required ")])],1),a("b-form-group",{attrs:{id:"input-group-dishNum",label:"Number of Dishes:","label-for":"dishNum",state:e.form.dishNumState}},[a("b-form-input",{staticClass:"inputs",attrs:{id:"dishNum",type:"number",state:e.form.dishNumState},model:{value:e.form.dishNum,callback:function(t){e.$set(e.form,"dishNum",t)},expression:"form.dishNum"}}),a("b-form-invalid-feedback",[e._v(" Number of Dishes is required ")])],1),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.vegan,expression:"form.vegan"}],attrs:{type:"checkbox",id:"vegan"},domProps:{checked:Array.isArray(e.form.vegan)?e._i(e.form.vegan,null)>-1:e.form.vegan},on:{change:function(t){var a=e.form.vegan,r=t.target,n=!!r.checked;if(Array.isArray(a)){var i=null,s=e._i(a,i);r.checked?s<0&&e.$set(e.form,"vegan",a.concat([i])):s>-1&&e.$set(e.form,"vegan",a.slice(0,s).concat(a.slice(s+1)))}else e.$set(e.form,"vegan",n)}}}),a("label",{attrs:{for:"vegan"}},[e._v(" Vegan")]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.vegetarian,expression:"form.vegetarian"}],attrs:{type:"checkbox",id:"vegetarian"},domProps:{checked:Array.isArray(e.form.vegetarian)?e._i(e.form.vegetarian,null)>-1:e.form.vegetarian},on:{change:function(t){var a=e.form.vegetarian,r=t.target,n=!!r.checked;if(Array.isArray(a)){var i=null,s=e._i(a,i);r.checked?s<0&&e.$set(e.form,"vegetarian",a.concat([i])):s>-1&&e.$set(e.form,"vegetarian",a.slice(0,s).concat(a.slice(s+1)))}else e.$set(e.form,"vegetarian",n)}}}),a("label",{attrs:{for:"vegetarian"}},[e._v(" Vegetarian")]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.glutenFree,expression:"form.glutenFree"}],attrs:{type:"checkbox",id:"glutenFree"},domProps:{checked:Array.isArray(e.form.glutenFree)?e._i(e.form.glutenFree,null)>-1:e.form.glutenFree},on:{change:function(t){var a=e.form.glutenFree,r=t.target,n=!!r.checked;if(Array.isArray(a)){var i=null,s=e._i(a,i);r.checked?s<0&&e.$set(e.form,"glutenFree",a.concat([i])):s>-1&&e.$set(e.form,"glutenFree",a.slice(0,s).concat(a.slice(s+1)))}else e.$set(e.form,"glutenFree",n)}}}),a("label",{attrs:{for:"glutenFree"}},[e._v(" Gluten Free ")])],1)],1)],1)])},o=[],c=(a("3ca3"),a("ddb0"),a("2b3d"),a("96cf"),a("1da1")),u=a("6aac"),l=a("e6c7"),d={name:"CreateRecipe",components:{BModal:u["a"]},data:function(){return{form:{title:"",titleState:"",TotalTime:"",TotalTimeState:null,ImageURL:"",ImageURLState:null,Ingredients:"",IngredientsState:null,instructions:"",instructionsState:null,dishNum:"",dishNumState:null,vegan:0,vegetarian:0,glutenFree:0},errors:[],validated:!1}},methods:{handleOk:function(e){this.checkFormValidity()?this.onSubmit():e.preventDefault()},checkFormValidity:function(){if(0==this.form.title.length)return this.form.titleState=!1,!1;var e;this.form.titleState=!0;try{e=new URL(this.form.ImageURL)}catch(t){return this.form.ImageURLState=!1,!1}if("http:"===e.protocol||"https:"===e.protocol){if(0==this.form.ImageURL.length)return this.form.ImageURLState=!1,!1;this.form.ImageURLState=!0}else this.form.ImageURLState=!0;return 0==this.form.TotalTime.length||this.form.TotalTime<=0?(this.form.TotalTimeState=!1,!1):(this.form.TotalTimeState=!0,0==this.form.Ingredients.length?(this.form.IngredientsState=!1,!1):(this.form.IngredientsState=!0,0==this.form.instructions.length?(this.form.instructions=!1,!1):(this.form.instructionsState=!0,0==this.form.dishNum.length||this.form.dishNum<=0?(this.form.dishNumState=!1,!1):(this.form.dishNumState=!0,this.form.vegan?this.form.vegan=1:this.form.vegan=0,this.form.glutenFree?this.form.glutenFree=1:this.form.glutenFree=0,this.form.vegetarian?this.form.vegetarian=1:this.form.vegetarian=0,!0))))},resetModal:function(){this.form.title="",this.form.titleState=null,this.form.ImageURL="",this.form.ImageURLState=null,this.form.TotalTime="",this.form.TotalTimeState=null,this.form.Ingredients="",this.form.IngredientsState=null,this.form.instructions="",this.form.instructionsState=null,this.form.dishNum="",this.form.dishNumState=null,this.form.vegan=0,this.form.vegetarian=0,this.form.glutenFree=0},onSubmit:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.post("https://doralonrecipes.cs.bgu.ac.il/user/createRecipe",{title:e.form.title,imageUrl:e.form.ImageURL,totalTime:e.form.TotalTime,popularity:0,vegan:e.form.vegan,vegetarian:e.form.vegetarian,glutenFree:e.form.glutenFree,ingredients:e.form.Ingredients,instructions:e.form.instructions,servings:e.form.dishNum});case 3:t.sent,alert("recipe submitted successfuly!"),e.resetModal(),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),alert("An error has accured, Please try again.");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},directives:{"b-modal":l["a"]}},m=d,f=(a("82c1"),a("2877")),p=Object(f["a"])(m,s,o,!1,null,null,null),v=p.exports,h={name:"App",methods:{Logout:function(){var e=this;this.$root.store.logout();this.axios.post("https://doralonrecipes.cs.bgu.ac.il/Logout");this.$root.toast("Logout","User logged out successfully","success"),this.$router.push("/")["catch"]((function(){e.$forceUpdate()}))},routeRegister:function(){this.router.push("./pages/RegisterPage")}},components:{CreateRecipe:v}},g=h,b=(a("5c0b"),Object(f["a"])(g,n,i,!1,null,null,null)),k=b.exports,_=a("a7fe"),y=a.n(_),w=a("bc3a"),x=a.n(w),C=(a("2b27"),a("49f5")),R=a("cf07"),S=a("9c7d"),$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._m(0),a("div",[e.$root.store.username?a("div",{staticClass:"align_pages"},[a("div",{staticClass:"Random_Recipes_User"},[a("h1",[e._v("Explore These Recipes:")]),a("RandomRecipe",{key:e.refresh}),a("div",{staticClass:"center_button"},[a("b-button",{on:{click:function(t){return e.UpdateRecipes()}}},[e._v("Click here to refresh the recipes")])],1)],1),a("div",{staticClass:"Recent_Recipes"},[a("h1",[e._v(" Last Watched Recipes: ")]),a("UserHistory")],1)]):a("div",[a("div",{staticClass:"Random_Recipes_Guest"},[a("RandomRecipe",{key:e.refresh}),a("div",{staticClass:"center_button"},[a("b-button",{on:{click:function(t){return e.UpdateRecipes()}}},[e._v("Click here to refresh the recipes")])],1)],1),a("div",{staticClass:"Mainpage_login"},[a("Login")],1)])])])},I=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text"},[a("span",[e._v("W")]),a("span",[e._v("E")]),a("span",[e._v("L")]),a("span",[e._v("C")]),a("span",[e._v("O")]),a("span",[e._v("M")]),a("span",[e._v("E")]),a("span"),a("span",[e._v("T")]),a("span",[e._v("O")]),a("span"),a("span",[e._v("O")]),a("span",[e._v("U")]),a("span",[e._v("R")]),a("span"),a("span",[e._v("R")]),a("span",[e._v("E")]),a("span",[e._v("C")]),a("span",[e._v("I")]),a("span",[e._v("P")]),a("span",[e._v("E")]),a("span"),a("span",[e._v("S")]),a("span",[e._v("I")]),a("span",[e._v("T")]),a("span",[e._v("E")])])}],T=(a("99d8"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",[a("div",e._l(this.recipes,(function(e){return a("RecipePreview",{key:e.id,staticClass:"recipePreview",attrs:{id:e.id,title:e.title,readyInMinutes:e.readyInMinutes,image:e.image,aggregateLikes:e.aggregateLikes,vegan:e.vegan,vegetarian:e.vegetarian,glutenFree:e.glutenFree}})})),1)])}),L=[],F=a("832a"),O={name:"getRandomRecipe",components:{RecipePreview:F["a"]},data:function(){return{recipes:[]}},mounted:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.axios.get("https://doralonrecipes.cs.bgu.ac.il/recipes/random");case 2:a=t.sent,e.recipes=a.data;case 4:case"end":return t.stop()}}),t)})))()}},P=O,U=(a("108c"),Object(f["a"])(P,T,L,!1,null,null,null)),j=U.exports,E=a("62cc"),N=(a("80e6"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[this.history.length>0?a("div",e._l(this.history,(function(e){return a("RecipePreview",{key:e.id,staticClass:"recipePreview",attrs:{id:e.id,title:e.title,readyInMinutes:e.readyInMinutes,image:e.image,vegan:e.vegan,vegetarian:e.vegetarian,glutenFree:e.glutenFree,aggregateLikes:e.popularity}})})),1):a("div",[a("h1",[e._v("You haven't viewed any recipe! Feel free to check them :)")])])])}),A=[],q={name:"userHistory",components:{RecipePreview:F["a"]},data:function(){return{history:[],ids:[]}},mounted:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.axios.get("https://doralonrecipes.cs.bgu.ac.il/user/history");case 2:a=t.sent,e.ids=a.data,r=0;case 5:if(!(r<3)){t.next=16;break}if(!(r>=e.ids.length)){t.next=8;break}return t.abrupt("break",16);case 8:return t.t0=e.history,t.next=11,e.axios.get("https://doralonrecipes.cs.bgu.ac.il/recipes/recipeDetails/"+e.ids[r].recipe_id);case 11:t.t1=t.sent.data,t.t0.push.call(t.t0,t.t1);case 13:r++,t.next=5;break;case 16:case"end":return t.stop()}}),t)})))()}},M=q,D=(a("e7e4"),Object(f["a"])(M,N,A,!1,null,null,null)),H=D.exports,B={mounted:function(){},components:{Login:E["default"],UserHistory:H,RandomRecipe:j},methods:{UpdateRecipes:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.refresh+=1;case 1:case"end":return t.stop()}}),t)})))()}},data:function(){return{refresh:0}}},V=B,W=(a("e71c"),Object(f["a"])(V,$,I,!1,null,"bb40c5b2",null)),Y=W.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("h1",[e._v("404 page not found")]),a("router-link",{attrs:{to:"/",exact:""}},[e._v("return to front page")])],1)},J=[],K={},z=Object(f["a"])(K,G,J,!1,null,null,null),Q=z.exports,X=[{path:"/",name:"main",component:Y},{path:"/register",name:"register",component:function(){return Promise.all([a.e("chunk-9ecf5f76"),a.e("chunk-bc893600")]).then(a.bind(null,"eaff"))}},{path:"/login",name:"login",component:function(){return Promise.resolve().then(a.bind(null,"62cc"))}},{path:"/search",name:"search",component:function(){return Promise.all([a.e("chunk-9ecf5f76"),a.e("chunk-1ecc3e10")]).then(a.bind(null,"37906"))}},{path:"/recipe/:recipeId",name:"recipe",component:function(){return a.e("chunk-138f3292").then(a.bind(null,"6619"))}},{path:"/myrecipe/:recipeId",name:"myrecipe",component:function(){return a.e("chunk-a9e9ea4e").then(a.bind(null,"e2cb"))}},{path:"/favorites",name:"favorites",component:function(){return Promise.resolve().then(a.bind(null,"80e6"))}},{path:"/family",name:"family",component:function(){return a.e("chunk-0d049e26").then(a.bind(null,"f98e"))}},{path:"/makeRecipe",name:"makeRecipe",component:function(){return a.e("chunk-53f3ebf4").then(a.bind(null,"0945"))}},{path:"/prepareMeal",name:"prepareMeal",component:function(){return a.e("chunk-1a585b38").then(a.bind(null,"011a"))}},{path:"/about",name:"about",component:function(){return a.e("chunk-006d05af").then(a.bind(null,"a1d1"))}},{path:"/myrecipes",name:"myrecipes",component:function(){return a.e("chunk-0b092463").then(a.bind(null,"8e47"))}},{path:"*",name:"notFound",component:Q}],Z=X,ee=a("8c4f"),te=a("1dce"),ae=a.n(te),re=(a("f9e3"),a("2dd8"),a("1073")),ne=a("cbd0"),ie=a("b1fc"),se=a("7049"),oe=a("a7e2"),ce=a("f9bc"),ue=a("44d4"),le=a("cca8"),de=a("51c2"),me=a("498a");x.a.defaults.withCredentials=!0,r["default"].component("b-progress",C["a"]),r["default"].component("b-progress-bar",R["a"]),r["default"].component("b-form-textarea",S["a"]),r["default"].use(ee["a"]);var fe=new ee["a"]({routes:Z});[re["a"],ne["a"],ie["a"],se["a"],oe["a"],ce["a"],ue["a"],le["a"],de["a"],me["a"]].forEach((function(e){return r["default"].use(e)})),r["default"].use(ae.a),x.a.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),x.a.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),r["default"].use(y.a,x.a),r["default"].config.productionTip=!1;var pe={username:localStorage.username,login:function(e){localStorage.setItem("username",e),this.username=e,console.log("login",this.username)},logout:function(){console.log("logout"),localStorage.removeItem("username"),this.username=void 0}};console.log(pe),new r["default"]({router:fe,data:function(){return{store:pe}},methods:{toast:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.$bvToast.toast("".concat(t),{title:"".concat(e),toaster:"b-toaster-top-center",variant:a,solid:!0,appendToast:r,autoHideDelay:3e3})}},render:function(e){return e(k)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var r=a("9c0c"),n=a.n(r);n.a},"62cc":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",staticStyle:{"margin-top":"100px"}},[a("h1",{staticClass:"title"},[e._v("Sign in")]),a("b-form",{on:{submit:function(t){return t.preventDefault(),e.onLogin.apply(null,arguments)}}},[a("b-form-group",{attrs:{id:"input-group-Username","label-cols-sm":"3",label:"Username:","label-for":"Username"}},[a("b-form-input",{staticClass:"inputs",attrs:{id:"Username",type:"text",state:e.validateState("username")},model:{value:e.$v.form.username.$model,callback:function(t){e.$set(e.$v.form.username,"$model",t)},expression:"$v.form.username.$model"}}),a("b-form-invalid-feedback",[e._v(" Username is required ")])],1),a("b-form-group",{attrs:{id:"input-group-Password","label-cols-sm":"3",label:"Password:","label-for":"Password"}},[a("b-form-input",{staticClass:"inputs",attrs:{id:"Password",type:"password",state:e.validateState("password")},model:{value:e.$v.form.password.$model,callback:function(t){e.$set(e.$v.form.password,"$model",t)},expression:"$v.form.password.$model"}}),a("b-form-invalid-feedback",[e._v(" Password is required ")])],1),a("b-button",{staticClass:"mx-auto w-100",staticStyle:{width:"100px",display:"block"},attrs:{type:"submit",variant:"primary"}},[e._v("Login")]),a("div",{staticClass:"mt-2"},[e._v(" New to the website? "),a("router-link",{attrs:{to:"register"}},[e._v(" Create an account")])],1)],1),e.form.submitError?a("b-alert",{staticClass:"mt-2",attrs:{variant:"warning",dismissible:"",show:""}},[e._v(" Login failed: "+e._s(e.form.submitError)+" ")]):e._e()],1)},n=[],i=(a("96cf"),a("1da1")),s=a("b5ae"),o={name:"Login",data:function(){return{form:{username:"",password:"",submitError:void 0}}},validations:{form:{username:{required:s["required"]},password:{required:s["required"]}}},methods:{validateState:function(e){var t=this.$v.form[e],a=t.$dirty,r=t.$error;return a?!r:null},Login:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.post("https://doralonrecipes.cs.bgu.ac.il/Login",{username:e.form.username,password:e.form.password});case 3:t.sent,console.log(e.$root.store.login),e.$root.store.login(e.form.username),e.$router.push("/"),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0.response),e.form.submitError=t.t0.response.data.message;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},onLogin:function(){this.form.submitError=void 0,this.$v.form.$touch(),this.$v.form.$anyError||this.Login()}}},c=o,u=(a("87e2"),a("2877")),l=Object(u["a"])(c,r,n,!1,null,"432bf9cd",null);t["default"]=l.exports},7767:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"all-details"},[e.$root.store.username?a("div",["boolean"!==typeof e.favorite||e.favorite?a("div",{staticClass:"favorites"},[a("b-button",{attrs:{variant:"warning",disabled:""}},[e._v("Recipe saved to favorites")])],1):a("div",{staticClass:"favorites"},[a("b-button",{staticClass:"favorite-button",attrs:{variant:"warning"},on:{click:e.addToFavorites}},[e._v("Save to favorites")])],1),"boolean"!==typeof e.watched||e.watched?a("div",{staticClass:"watched"},[a("p",{staticClass:"recipe-details"},[e._v("You viewed this recipe before")])]):a("div",{staticClass:"watched"},[a("p",{staticClass:"recipe-details"},[e._v("You haven't viewed this recipe before")])])]):a("div",[a("div",{staticClass:"favorites"},[a("b-button",{staticStyle:{filter:"blur(1.3px)","-webkit-filter":"blur(1.3px)"},attrs:{disabled:"",variant:"warning",src:"../assets/saveFavorite.jpg"}},[e._v("Save to favorites")])],1),e._m(0)])])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"watched"},[a("p",{staticClass:"recipe-details"},[e._v("Login to save to favorites and see if viewed before")])])}],i=(a("caad"),a("a9e3"),a("2532"),a("96cf"),a("1da1")),s={mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$root.store.username){t.next=20;break}return t.prev=1,t.next=4,e.axios.get("https://doralonrecipes.cs.bgu.ac.il/user/history",{params:{}});case 4:return e.history=t.sent,t.next=7,e.axios.get("https://doralonrecipes.cs.bgu.ac.il/user/favorites",{params:{}});case 7:for(e.favorites=t.sent,a=[],r=0;r<e.history.data.length;r++)a.push(e.history.data[r].recipe_id);for(n=[],i=0;i<e.favorites.data.length;i++)n.push(e.favorites.data[i].recipe_id);e.favorite=n.includes(e.id),e.watched=a.includes(e.id),t.next=20;break;case 16:t.prev=16,t.t0=t["catch"](1),e.favorite=!1,e.watched=!1;case 20:case"end":return t.stop()}}),t,null,[[1,16]])})))()},data:function(){return{history:[],favorites:[],favorite:!1,watched:!1,image_load:!1}},props:{id:{type:Number,required:!0}},methods:{addToFavorites:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.favorite=!0,t.next=3,e.axios.post("https://doralonrecipes.cs.bgu.ac.il/user/favorites",{recipe_id:e.id});case 3:t.sent;case 4:case"end":return t.stop()}}),t)})))()}}},o=s,c=(a("3f41"),a("2877")),u=Object(c["a"])(o,r,n,!1,null,"4ac915cb",null);t["a"]=u.exports},"7bea":function(e,t,a){e.exports=a.p+"img/vegan.a90f9e3c.png"},"80e6":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("h1",{staticClass:"title-text"},[e._v("Favorites")]),e._l(this.recipes,(function(e){return a("RecipePreview",{key:e.data.id,staticClass:"recipePreview",attrs:{id:e.data.id,title:e.data.title,readyInMinutes:e.data.readyInMinutes,image:e.data.image,aggregateLikes:e.data.popularity,vegan:e.data.vegan,vegetarian:e.data.vegetarian,glutenFree:e.data.glutenFree}})}))],2)},n=[],i=(a("96cf"),a("1da1")),s=a("832a"),o={name:"UserFavorites",components:{RecipePreview:s["a"]},data:function(){return{recipes:[],favorites:[]}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.axios.get("https://doralonrecipes.cs.bgu.ac.il/user/favorites",{params:{}});case 2:e.favorites=t.sent,a=0;case 4:if(!(a<e.favorites.data.length)){t.next=13;break}return t.t0=e.recipes,t.next=8,e.axios.get("https://doralonrecipes.cs.bgu.ac.il/recipes/recipeDetails/"+e.favorites.data[a].recipe_id,{});case 8:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 10:a++,t.next=4;break;case 13:case"end":return t.stop()}}),t)})))()},methods:{}},c=o,u=(a("0aad"),a("2877")),l=Object(u["a"])(c,r,n,!1,null,null,null);t["default"]=l.exports},"82c1":function(e,t,a){"use strict";var r=a("ef9d"),n=a.n(r);n.a},"832a":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"all-details"},[r("router-link",{staticClass:"recipe-preview",attrs:{to:{name:"recipe",params:{recipeId:e.id}}},nativeOn:{click:function(t){return e.addToHistory.apply(null,arguments)}}},[r("div",{staticClass:"recipe-body"},[e.image_load?r("img",{staticClass:"recipe-image",attrs:{src:e.image}}):e._e()])]),r("div",{staticClass:"recipe-footer"},[r("div",{staticClass:"recipe-title",attrs:{title:e.title}},[e._v(" "+e._s(e.title)+" ")]),r("ul",{staticClass:"recipe-overview"},[r("img",{staticClass:"details-image",attrs:{src:a("2b5f")}}),r("p",{staticClass:"recipe-details"},[e._v(e._s(e.readyInMinutes)+" minutes")]),r("br"),r("img",{staticClass:"details-image",attrs:{src:a("8e44")}}),r("p",{staticClass:"recipe-details"},[e._v(e._s(e.aggregateLikes)+" likes")]),r("br"),r("div",{staticClass:"images"},["boolean"===typeof e.vegan&&e.vegan?r("img",{staticClass:"diet-image",attrs:{src:a("7bea")}}):e._e(),"boolean"===typeof e.vegetarian&&e.vegetarian?r("img",{staticClass:"diet-image",staticStyle:{width:"22.5%",height:"22.5%"},attrs:{src:a("183b")}}):e._e(),"boolean"===typeof e.glutenFree&&e.glutenFree?r("img",{staticClass:"diet-image",attrs:{src:a("2b4e")}}):e._e()]),r("FavoriteHistory",{staticClass:"favorite-button",attrs:{id:this.id}})],1)])],1)},n=[],i=(a("a9e3"),a("96cf"),a("1da1")),s=(a("d485"),a("7767")),o={components:{FavoriteHistory:s["a"]},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.axios.get(e.image,{withCredentials:!1}).then((function(t){e.image_load=!0}));case 1:case"end":return t.stop()}}),t)})))()},data:function(){return{history:[],favorites:[],favorite:!1,watched:!1,image_load:!1}},props:{id:{type:Number,required:!0},title:{type:String,required:!0},readyInMinutes:{type:Number,required:!0},image:{type:String,required:!0},vegan:{type:Boolean,required:!0},vegetarian:{type:Boolean,required:!0},glutenFree:{type:Boolean,required:!0},aggregateLikes:{type:Number,required:!1}},methods:{addToFavorites:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.axios.post("https://doralonrecipes.cs.bgu.ac.il/user/favorites",{recipe_id:e.id});case 2:t.sent;case 3:case"end":return t.stop()}}),t)})))()},addToHistory:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.axios.post("https://doralonrecipes.cs.bgu.ac.il/user/history",{recipe_id:e.id});case 2:t.sent;case 3:case"end":return t.stop()}}),t)})))()}}},c=o,u=(a("12f6"),a("2877")),l=Object(u["a"])(c,r,n,!1,null,"409b7688",null);t["a"]=l.exports},"87e2":function(e,t,a){"use strict";var r=a("14e2"),n=a.n(r);n.a},"8e44":function(e,t,a){e.exports=a.p+"img/like.c2262c90.png"},"99d8":function(e,t,a){"use strict";var r,n,i=a("2877"),s={},o=Object(i["a"])(s,r,n,!1,null,null,null);o.exports},"9c0c":function(e,t,a){},af32:function(e,t,a){},ba71:function(e,t,a){},d217:function(e,t,a){},e71c:function(e,t,a){"use strict";var r=a("af32"),n=a.n(r);n.a},e7e4:function(e,t,a){"use strict";var r=a("ba71"),n=a.n(r);n.a},ef9d:function(e,t,a){}});
//# sourceMappingURL=app.59924051.js.map